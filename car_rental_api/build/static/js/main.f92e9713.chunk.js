(this.webpackJsonpcar_rent_app=this.webpackJsonpcar_rent_app||[]).push([[0],{100:function(e,t,c){},129:function(e,t,c){},139:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c(1),r=c(25),s=c.n(r),o=c(13),i=c(14),l=c(16),j=c(15),u=c(7),d=c(11),b=c(141),h=c(142),p=c(143),m=c(144),O=c(145),x=c(146),k=function(e){return Object(a.jsx)("div",{className:"col-md-6 mb-3",children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(h.a,{top:!0,width:"100%",src:e.carPicture,alt:"Card image cap"}),Object(a.jsxs)(p.a,{children:[Object(a.jsx)(m.a,{tag:"h5",children:e.carName}),Object(a.jsxs)(O.a,{children:[Object(a.jsx)("strong",{children:"Price: "})," ",e.carPrice," $"]}),Object(a.jsxs)(O.a,{children:[Object(a.jsx)("strong",{children:"Capacity: "})," ",e.capacity]}),Object(a.jsx)(x.a,{color:"info",onClick:function(){e.detail(e.id)},children:"See Details"})]})]})})},f="CARS_LOADING",y="CARS_LOADED",v="BOOK_CAR",N="ADD_TO_CART",w="AUTH_SUCCESS",g="LOGOUT",A=c(39),C=c.n(A),P=c(67),S=function(){return{type:f}},D=function(){return function(e){e(S()),C.a.get("https://safwanvai.pythonanywhere.com/rent_car/vehicle/?format=json").then((function(t){var c;e((c=t.data,{type:y,payload:c}))}))}},I=function(e){return{type:w,payload:e}},L=(c(100),function(){return Object(a.jsx)("div",{className:"loader",children:"Loading..."})}),M=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){var e;Object(o.a)(this,c);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).seedetail=function(t){var c=e.props.cars.filter((function(e){return e.id===t}));e.props.history.push("/cardesc",{car:c[0]})},e}return Object(i.a)(c,[{key:"componentDidMount",value:function(){this.props.carapi()}},{key:"render",value:function(){var e=this,t=null;t=void 0!==this.props.cars?this.props.cars.map((function(t,c){return Object(a.jsx)(k,{carName:t.carName,carPicture:t.carPicture,carDescription:t.carDescription,carPrice:t.carPrice,capacity:t.capacity,id:t.id,detail:e.seedetail},c)})):Object(a.jsx)("h1",{className:"my-5 text-center mx-auto text-danger",children:"No Cars In The List"});var c=null;return c=this.props.loader?Object(a.jsx)(L,{}):Object(a.jsx)("div",{className:"row gy-3",children:t}),Object(a.jsx)("div",{className:"container my-5",children:c})}}]),c}(n.Component),U=Object(d.b)((function(e){return{cars:e.cars,loader:e.loader}}),(function(e){return{loadcars:function(){return e(S())},carapi:function(){return e(D())}}}))(M),Y=function(e){return Object(a.jsx)("div",{className:"col-md-6 my-5",children:Object(a.jsxs)("div",{className:"card my-3",children:[Object(a.jsx)("img",{src:e.item.carPicture,className:"card-img-top",alt:e.item.carName}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"card-title",children:e.item.carName}),Object(a.jsxs)("p",{className:"card-text",children:["Price : ",e.item.carPrice," $"]}),Object(a.jsxs)("p",{className:"card-text",children:["Capacity : ",e.item.capacity]})]})]})})},G=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){var e;Object(o.a)(this,c);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).handlecheckout=function(){e.props.history.push("checkout/")},e}return Object(i.a)(c,[{key:"render",value:function(){var e=this,t=null;return t=0!==this.props.selectedcars.length?this.props.selectedcars.map((function(e,t){return Object(a.jsx)(Y,{item:e},t)})):Object(a.jsx)("h3",{className:"my-5 mx-auto text-center",children:" No Cars in The Cart "}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{className:"my-3 mx-auto text-center",children:"Cart Page "}),Object(a.jsx)("div",{className:"row",children:t})]}),Object(a.jsx)("div",{className:"my-5",children:Object(a.jsx)("button",{className:"btn btn-primary my-3",style:{position:"fixed",right:10,bottom:10},onClick:function(){return e.handlecheckout()},children:"Checkout"})})]})}}]),c}(n.Component),R=Object(d.b)((function(e){return{selectedcars:e.selectedcars}}))(G),V=c(72),W=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){var e;Object(o.a)(this,c);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={mode:"SIGNUP"},e.modehandler=function(){e.setState({mode:"SIGNUP"===e.state.mode?"LOGIN":"SIGNUP"})},e}return Object(i.a)(c,[{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"container my-4",children:[Object(a.jsxs)("h1",{className:"my-5 text-center",style:{textTransform:"uppercase"},children:[this.state.mode," Page"," "]}),Object(a.jsx)(V.a,{initialValues:{email:"",username:"",password:"",confirmpassword:""},validate:function(t){var c={};return t.email||(c.email="Required"),t.password||(c.password="Required"),"SIGNUP"===e.state.mode&&(t.username||(c.username="Required"),t.confirmpassword?t.password!==t.confirmpassword&&(c.confirmpassword="Please Confirm Your Password, It Does Not Match"):c.confirmpassword="Required"),c},onSubmit:function(t){e.props.auth(t.email,t.username,t.password,e.state.mode)},children:function(t){var c=t.values,n=t.errors,r=t.handleChange,s=t.handleSubmit;return Object(a.jsxs)("form",{onSubmit:s,className:"w-75 mx-auto",children:[Object(a.jsxs)("button",{className:"btn btn-secondary btn-block",type:"button",onClick:e.modehandler,children:["Switch to ","SIGNUP"===e.state.mode?"LOGIN":"SIGNUP"]}),Object(a.jsx)("input",{type:"email",name:"email",onChange:r,value:c.email,className:"form-control mt-3",placeholder:"Please Enter Your Email"}),Object(a.jsx)("span",{style:{color:"red",fontSize:"20px",display:"block"},children:n.email}),Object(a.jsx)("input",{type:"password",name:"password",onChange:r,value:c.password,className:"form-control mt-3",placeholder:"Please Enter Your Password"}),Object(a.jsx)("span",{style:{color:"red",fontSize:"20px",display:"block"},children:n.password}),"SIGNUP"===e.state.mode?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",{type:"password",name:"confirmpassword",onChange:r,value:c.confirmpassword,className:"form-control mt-3",placeholder:"Please Confirm Your Password"}),Object(a.jsx)("span",{style:{color:"red",fontSize:"20px",display:"block"},children:n.confirmpassword}),Object(a.jsx)("input",{type:"text",name:"username",onChange:r,value:c.username,className:"form-control mt-3",placeholder:"Please Enter Your Username"}),Object(a.jsx)("span",{style:{color:"red",fontSize:"20px",display:"block"},children:n.username})]}):null,Object(a.jsx)("button",{className:"btn btn-secondary mt-3 btn-lg ",type:"submit",children:"SIGNUP"===e.state.mode?"SIGNUP":"LOGIN"})]})}})]})}}]),c}(n.Component),E=Object(d.b)((function(e){return{token:e.token}}),(function(e){return{auth:function(t,c,a,n){return e(function(e,t,c,a){return function(n){var r=null,s=null;"SIGNUP"===a?(r="https://safwanvai.pythonanywhere.com/rent_car/new_user/",s={email:e,username:t,password:c}):(r="https://safwanvai.pythonanywhere.com/rent_car/token/",s={email:e,password:c}),C.a.post(r,s,{headers:{"Content-Type":"application/json"}}).then((function(e){if("SIGNUP"===a)console.log(e),console.log(s);else{var t=Object(P.a)(e.data.access);n(I(t))}})).catch((function(e){console.log(e)}))}}(t,c,a,n))}}}))(W),K=c(10),z=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){var e;Object(o.a)(this,c);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={thiscar:[]},e.handleclick=function(t){e.props.bookcar(e.state.thiscar),e.props.history.push("cart/")},e.handleback=function(){e.props.history.push("home/")},e}return Object(i.a)(c,[{key:"componentDidMount",value:function(){this.setState(Object(K.a)(Object(K.a)({},this.state),{},{thiscar:[this.props.location.state.car]}))}},{key:"render",value:function(){var e=this,t=this.props.location.state.car;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"container my-5",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-md-7",children:Object(a.jsx)("img",{src:t.carPicture,alt:t.carName})}),Object(a.jsxs)("div",{className:"col-md-5 ",style:{overflowY:"auto"},children:[Object(a.jsxs)("h2",{children:[" ",t.carName]}),Object(a.jsxs)("p",{className:"my-3",style:{fontSize:"24px"},children:[Object(a.jsx)("strong",{children:" Price : "})," ",t.carPrice," $"]}),Object(a.jsxs)("p",{className:"my-3",style:{fontSize:"22px"},children:[Object(a.jsx)("strong",{children:" Capacity : "})," ",t.capacity]}),Object(a.jsx)("button",{className:"btn btn-outline-secondary my-3",onClick:function(){return e.handleclick(t.id)},children:"Add To Booking Cart"})]})]}),Object(a.jsx)("div",{className:"row my-4",children:Object(a.jsxs)("p",{className:"my-3",style:{fontSize:"20px"},children:[Object(a.jsx)("strong",{children:" Description : "}),Object(a.jsx)("br",{}),t.carDescription]})})]}),Object(a.jsx)("button",{className:"btn btn-warning btn-lg my-3",onClick:function(){return e.handleback()},style:{position:"fixed",bottom:10,right:10},children:"Back"})]})}}]),c}(n.Component),T=Object(d.b)((function(e){return{cars:e.cars,selectedcars:e.selectedcars}}),(function(e){return{bookcar:function(t){return e(function(e){return{type:N,payload:e}}(t))}}}))(z),Z=c(70),J=c.n(Z),q=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){var e;Object(o.a)(this,c);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={time:new Date},e.changehandler=function(t){e.setState(Object(K.a)(Object(K.a)({},e.state),{},{time:t}))},e.checkouthandler=function(){e.props.checkout(e.state.time,e.props.selectedcars,e.props.token.user_id),e.props.history.push("home/")},e}return Object(i.a)(c,[{key:"render",value:function(){var e=this,t=null;return t=0!==this.props.selectedcars.length?this.props.selectedcars.map((function(e,t){return Object(a.jsx)("li",{className:"list-group-item",children:e.carName},t)})):Object(a.jsx)("h4",{children:" No Selected Cars "}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"container my-5 ",children:[Object(a.jsx)("h1",{className:"text-center mb-5",children:" Checkout Page "}),Object(a.jsx)("label",{style:{fontWeight:"bold"},children:" Rent To Be: "}),Object(a.jsx)(J.a,{value:this.state.time,onChange:function(t){return e.changehandler(t)},className:"form-control"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{style:{fontWeight:"bold",fontSize:"25px"},children:[" ","Selected Cars:"," "]}),Object(a.jsx)("ul",{className:"list-group",children:t})]}),Object(a.jsx)("button",{className:"btn btn-info btn-lg my-3",onClick:this.checkouthandler,style:{position:"fixed",bottom:10,right:10},children:"CheckOut"})]})}}]),c}(n.Component),B=Object(d.b)((function(e){return{token:e.token,selectedcars:e.selectedcars}}),(function(e){return{checkout:function(t,c,a){return e(function(e,t,c){return function(a){var n=t.map((function(e,t){return e.id})),r={rent_to:e,vehicle:n,user:c};C.a.post("https://safwanvai.pythonanywhere.com/rent_car/rentcar/",r,{headers:{"Content-Type":"application/json"}}).then((function(e){a(I())})).catch((function(e){console.log(e)}))}}(t,c,a))}}}))(q),X=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){var e;Object(o.a)(this,c);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).componentDidMount=function(){e.props.logout()},e}return Object(i.a)(c,[{key:"render",value:function(){return Object(a.jsx)(u.a,{to:"/"})}}]),c}(n.Component),H=Object(d.b)(null,(function(e){return{logout:function(){return e({type:g})}}}))(X),F=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){return Object(o.a)(this,c),t.apply(this,arguments)}return Object(i.a)(c,[{key:"render",value:function(){var e=null;return e=null!==this.props.token?Object(a.jsxs)(u.d,{children:[Object(a.jsx)(u.b,{path:"/home",exact:!0,component:U}),Object(a.jsx)(u.b,{path:"/cart",exact:!0,component:R}),Object(a.jsx)(u.b,{path:"/cardesc",exact:!0,component:T}),Object(a.jsx)(u.b,{path:"/checkout",exact:!0,component:B}),Object(a.jsx)(u.b,{path:"/logout",exact:!0,component:H}),Object(a.jsx)(u.a,{from:"/",to:"/home"})]}):Object(a.jsxs)(u.d,{children:[Object(a.jsx)(u.b,{path:"/home",exact:!0,component:U}),Object(a.jsx)(u.b,{path:"/login",exact:!0,component:E}),Object(a.jsx)(u.a,{from:"/",to:"/login"})]}),Object(a.jsx)(a.Fragment,{children:e})}}]),c}(n.Component),Q=Object(d.b)((function(e){return{token:e.token}}))(F),_=c(147),$=c(148),ee=c(149),te=c(150),ce=c(151),ae=c(152),ne=c(24),re=(c(129),function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){return Object(o.a)(this,c),t.apply(this,arguments)}return Object(i.a)(c,[{key:"render",value:function(){var e=null;return e=null!==this.props.token?Object(a.jsxs)(_.a,{className:"ml-auto",navbar:!0,children:[Object(a.jsx)($.a,{children:Object(a.jsx)(ne.b,{to:"/home",className:"NavLink",exact:!0,activeClassName:"activeclass",children:"Home"})}),Object(a.jsx)($.a,{children:Object(a.jsx)(ne.b,{to:"/cart",className:"NavLink",activeClassName:"activeclass",children:"Cart"})}),Object(a.jsx)($.a,{children:Object(a.jsx)(ne.b,{to:"/logout",className:"NavLink",activeClassName:"activeclass",children:"Logout"})})]}):Object(a.jsxs)(_.a,{className:"ml-auto",navbar:!0,children:[Object(a.jsx)($.a,{children:Object(a.jsx)(ne.b,{to:"/home",className:"NavLink",exact:!0,activeClassName:"activeclass",children:"Home"})}),Object(a.jsx)($.a,{children:Object(a.jsx)(ne.b,{to:"/login",className:"NavLink",activeClassName:"activeclass",children:"Login"})})]}),Object(a.jsx)("div",{children:Object(a.jsx)(ee.a,{expand:"md",className:"Navbar",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(te.a,{href:"/home",children:Object(a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKsAAAAuCAMAAABgSxlAAAABLFBMVEUAAAAke90ke90ke90ke90ke90ke90MDAwke90ke90ke90ke90ke90MDAwke90ke90ke90ke90ke90ke90MDAwke90ke90ke90ke90ke90ke90ke90ke90ke90MDAwke90ke90ke90ke90ke90ke90ke90ke90ke90ke90ke90MDAwke90ke90ke90ke90ke90MDAwke90ke90MDAwMDAwke90ke90ke90ke90MDAwke90MDAwke90ke90ke90ke90ke90ke90MDAwke90ke90ke90ke90MDAwke90MDAwke90ke90ke90MDAwke90ke90ke90ke90ke90ke90MDAwke90+ht9UkeJmm+R3pOaHrumVt+ujwO280fLI2fTU4fbf6fjq8Pv1+P3///8hH38dAAAAVHRSTlMAAgMFBwgKERYXGBscIiIqLS4vMDM2Nzg9Pj9BQkNEREVISUtMTU5QUVRVWltcYWJmc3R3iImKi4yZoaqrrLW2t7i7xcnKy8zM3eDr7O7x8vP6+/zDCKYyAAAEkklEQVR42tWZbUPTSBDHg4jx4ALq5ej5QISDQS0ehkuPu1IEDHq9oKUKaREoUprv/x1u9jGbZJOWV67zJmk2G37M/nd2dtaycjY9u1B7urK6uvK0tjA7bZlrU3OLa6DYWm1uykzSO/PLULDl+TsGot5/RtjWt3YOj7pfvnSPDne21smTZ/eNG/4HhGtz92NPsY+7m+TpA7OEcPc3ZNrYO+nl7GRvAxse3zUI9R4Z/7+Oexo73iY6uGcM6swSwIv9XontvwBYmjElADwGePWhV2ofXqEMDAkHj9Cr73sV9h49+8iMYIWCPOhV2gG+YkLomsJ5td0bY3+jZA2IXPMYrI7HsXb/AJj//m7FhVWGgK83ScZuvioqWP7ujp0DeHMqiK6TnF2LltM3AHNpryAW1g5s8iBWjbb69EVH/lbb5XecoIO/Qz/9st2Jm/zWE++HvEMNYFcAnSWj7NCPkjNxuwtQ07FyqiJrZI9nlQ1tRzzy47hj51jxkUvy1TVYlznAILnKsl4lA5kbrMPatJ41rutYGVElKz4P6+wacT4rlENCWD3q6oDxzwJsSbRhcpFlvUiG8n4LYDbL6oibiLE2c/+JI1np04iMpio/N45bkorz4/uheEuwWladti8A7JRKICOCHYCFIqvVJHeulrU5hrUlR5vciq5tl39ZYbU6pOevAIelEsiI4BBgUcPqkztPy0r+UgWrHccNpYfLoQKrzZ8rrGHctixcCI5SCXwb5OxbKoIjTLfKWPV+Jd+vYPWo0EU8CFw+2DZ27+RZI6KW3wG6UgJaEyLoAqyUacDWsEZ0klSw+mKsM7JoUYfXdXrFhV4k2Od61nORdgOsFll9DqnM8oi1kojTsStYgyIrp2yxOSfjQINO3xzr8Kx/lVJe9c+GVawyONo6Vod4PLgdKx99qoRMfKXxV9EAsmLI6qesfRK0JGtRA9wauXVLsNod7t3JWSOmI7tDu3i5gKzMLWS9zKgWlXqZshbnVjrbdfHVoZf2bfQqBdqkY85/IjkLw0rMQtbR5cUwZR1eXI5SVl3MoiMclrFSutvEgWbWAwI94FdlLRgzt7RrQSgcq2X1KlnV+FoncY+KRlhTcXPE+uEa++dkrNo11hOO1bKyf2XidUsRRUCaJKvPRkDJXapZNbmLpPHKWJ1KVld2cek7YdrskNicxteI6lfJCQnrdXbZuk5ZNTmhY6WOLeZZ1EWNKlaaZ3nsinHPlQkWX1RTVp81Ya69eSJZB9l0YCBZT7Ba9LOGVTi2hJVJsIw1m782UklQOjezxpKkkexh9ihO/yYZnWdZz0fJTZ8VNLJ7mJSGO7aEla1rpayWS19t+WpoktsDhdVnHyF7w+7YveGGCXtDa2ppgj33P2bsuSepZbzDV34ypUb0srpG9BLgF0Nqb0+w9vZfOeq/WHt7YkopfuY5Vt9KZXCAlbfnptQ0sVaM8wu29bViLGXBkjm1YqzBYwkWXu8Xa/D7r02rwWPkekjPNt5+Ukk/vaVnGw+NO+RSzow+n55+NvjM6Mc6i6NnnLUf5IyTGp4dL7Kz40XTzo7/B3LsQnYNsNL9AAAAAElFTkSuQmCC",width:"150px",alt:"Logo"})}),Object(a.jsx)(ce.a,{}),Object(a.jsx)(ae.a,{navbar:!0,children:e})]})})})}}]),c}(n.Component)),se=Object(d.b)((function(e){return{token:e.token}}))(re),oe=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(se,{}),Object(a.jsx)(Q,{})]})},ie=(c(137),c(30)),le=c(50),je={cars:[],token:null,selectedcartodisplay:null,selectedcars:[],totalPrice:0,loader:!1},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(K.a)(Object(K.a)({},e),{},{loader:!0});case y:return Object(K.a)(Object(K.a)({},e),{},{loader:!1,cars:Object(le.a)(t.payload)});case N:return Object(K.a)(Object(K.a)({},e),{},{selectedcars:Object(le.a)(e.selectedcars.concat(t.payload))});case w:return Object(K.a)(Object(K.a)({},e),{},{token:t.payload});case g:return Object(K.a)(Object(K.a)({},e),{},{token:null});case v:return Object(K.a)(Object(K.a)({},e),{},{selectedcartodisplay:null,selectedcars:[]});default:return e}},de=c(71),be=Object(ie.c)(ue,Object(ie.a)(de.a)),he=function(){return Object(a.jsx)(d.a,{store:be,children:Object(a.jsx)(ne.a,{children:Object(a.jsx)(oe,{})})})};s.a.render(Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(he,{})}),document.getElementById("root"))}},[[139,1,2]]]);
//# sourceMappingURL=main.f92e9713.chunk.js.map